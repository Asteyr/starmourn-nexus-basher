{"name":"nexus community basher","enabled":true,"description":"","type":"group","id":1,"items":[{"type":"function","name":"onLoad","enabled":true,"id":2,"code":"var branch = 'main';\nvar url = 'https://raw.githubusercontent.com/rocketcatmultiverse/starmourn-nexus-basher/'+branch+'/'\nvar urls = [\n 'main','alias','trigger','gmcp','interrupts','mobs','beast','engineer','fury','nanoseer','scoundrel','utils',\n]\nvar calc = calc || false;\n\nvar p = $.when(1);\nvar err = false;\nurls.forEach(function(item, index) {\n  let a = url + item + '.js';\n  p = p.then(function() {\n    return $.ajax({\n     url: a + '?v=' + new Date().getTime()\n    }).done(function(data) {\n      console.log('Trying eval(data) for ' + a + '.')\n      console.log([data])\n      try {\n       eval(data);\n       if (branch !== \"main\") {\n           nb.debugMode = true;\n           console.log(\"Loaded \"+item+\" on branch \"+branch+\".\",\"green\");\n        }\n      } catch(err) { display_notice(\"Nexus community basher failed to load at \"+item+\".js, see console for error.\",\"red\");console.log(err); }\n    })\n  })\n})"},{"type":"function","name":"onGMCP","enabled":true,"id":5,"code":"if (typeof nb == \"undefined\" || typeof nb.gmcp == \"undefined\") return;\nnb.gmcp(args.gmcp_method,args.gmcp_args);"},{"type":"trigger","name":"","enabled":true,"id":3,"matching":"regexp","whole_words":true,"case_sensitive":true,"text":"^(.+)$","actions":[{"action":"script","script":"if (typeof nb == \"undefined\" || typeof nb.trigger == \"undefined\") return;\nnb.trigger(args[1]);"}]},{"type":"alias","name":"","enabled":true,"id":4,"matching":"regexp","whole_words":true,"case_sensitive":true,"prefix_suffix":true,"actions":[{"action":"script","script":"if (typeof nb == \"undefined\" ||\n   typeof nb.alias == \"undefined\" ||\n   !nb.alias(args[0])) {\n    // this allows both direct sends and function calls, in case users have aliases that start in nb.\n    client.aliases_enabled = false;\n    send_command(args[0]);\n    client.aliases_enabled = true;\n}"}],"text":"^nb(.+)$"}]}